<div class="fade-in">
  <c-card class="mb-2">
    <c-card-body>
      <div class="row">
        <div class="col">
          <h5>Query Stock</h5>
        </div>
        <div class="col text-end">
          <!-- <button class="btn btn-outline-primary" *ngIf="currentView === 'closing'" (click)="setCurrentView('history')">
            Riwayat Proses
          </button>
          </button> -->
        </div>
      </div>
    </c-card-body>
  </c-card>
</div>

<c-card class="fade-in mb-4">
  <c-card-body>
    <div class="row">
      <div class="col">

        <div class="row mb-3">
          <label for="formMonth" class="col-sm-4 col-form-label">Periode</label>
          <div class="col-sm-8">
            <input id="formMonth" type="text" placeholder="Choose month and year" class="form-control" bsDatepicker
              [bsConfig]="{ dateInputFormat: 'MM/YYYY', minMode: 'month', adaptivePosition: true }"
              [(ngModel)]="selectedDate" (ngModelChange)="getStockMovement()">
          </div>
        </div>

      </div>
      <div class="col"></div>
      <div class="col">
        <div class="mb-3">
          <input type="text" class="form-control" placeholder="Search..." [(ngModel)]="searchText">
        </div>
      </div>
    </div>
    <div class="table-responsive mt-3">
      <table cTable striped bordered hover>
        <thead class="text-center" cTableColor="secondary">
          <th>#</th>
          <th>KODE BARANG</th>
          <th>NAMA BARANG</th>
          <th>SALDO AWAL</th>
          <th>QTY IN</th>
          <th>QTY OUT</th>
          <th>SALDO AKHIR</th>
        </thead>
        <tbody>
          <tr *ngIf="listData.length == 0">
            <td colspan="7" class="text-center"> No data</td>
          </tr>
          <tr
            *ngFor="let item of listData | filterData:searchText | paginate: { itemsPerPage: 10, currentPage: currentPage }; let i = index;"
            class="text-end">
            <td>
              {{i+1}}
            </td>
            <td>
              {{item.kodeBarang}}
            </td>
            <td class="text-start">
              {{item.namaBarang}}
            </td>
            <td>
              {{item.saldoAwal | number}}
            </td>
            <td>
              {{item.qtyIn | number}}
            </td>
            <td>
              {{item.qtyOut | number}}
            </td>
            <td>
              {{item.saldoAkhir | number}}
            </td>
          </tr>
        </tbody>
      </table>
      <div class="text-end">
        <pagination-controls (pageChange)="currentPage = $event" previousLabel="Sebelumnya" nextLabel="Berikutnya">
        </pagination-controls>
      </div>
    </div>

  </c-card-body>
</c-card>
